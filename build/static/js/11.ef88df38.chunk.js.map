{"version":3,"sources":["components/common/utils.tsx","components/common/config.ts","http/Servies.tsx","http/UserApi.tsx","containers/HeaderContainer.tsx","redux/actions.ts","components/home/Header.tsx","http/Salary.tsx","components/salary/UserBasicShow.tsx","components/salary/SalaryList.tsx","pages/salary.tsx"],"names":["successToast","msg","message","success","errorToast","error","getToken","cookies","load","setToken","token","save","maxAge","removeToken","remove","getHeaders","httpIsSuccess","code","formatLessTen","value","formatTime","date","year","getFullYear","month","getMonth","day","getDay","hour","getHours","minute","getMinutes","seconds","getSeconds","backIP","testIP","IconFont","createFromIconfontCN","scriptUrl","axios","defaults","timeout","interceptors","response","use","Promise","reject","Http","url","data","method","headers","resolve","get","params","then","res","catch","err","get_verify_code_api","a","request","login_password_api","get_basic_user_info_api","get_user_list_api","alter_user_identify_api","reset_user_password_api","get_user_detail_info_api","alter_user_info_api","upload_file_api","add_new_user_api","search_user_list_api","connect","state","user","transform_user","type","USER_DATA","title","history","useHistory","useState","store","getState","avatar","setAvatar","isMouse","setIsMouse","getBasicUser","useCallback","tempUserData","push","useEffect","subscribe","className","onClick","onMouseOver","onMouseOut","src","fallback","style","color","display","get_user_info_in_salary_api","get_salary_list_api","stylePrefix","UserBasicShow","userID","setUser","loading","setLoading","init","buildOtherInfoItem","key","alt","name","salaryNum","phoneNumber","weixin_number","lawyer_number","SalaryList","salaryList","setSalaryList","getSalaryList","map","salary","index","year_salary","case_list","caseItem","case_name","identity","ratio","Salary","useParams","HeaderContainer","parseInt","id"],"mappings":"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","file":"static/js/11.ef88df38.chunk.js","sourcesContent":["import { message } from 'antd';\r\nimport cookies from 'react-cookies'\r\n\r\nexport interface httpConfig {\r\n    code: number\r\n    data: any\r\n    message: string\r\n}\r\n\r\nexport const successToast = (msg: string) => {\r\n    message.success(msg);\r\n}\r\n\r\nexport const errorToast = (msg: string) => {\r\n    message.error(msg);\r\n}\r\n\r\nexport const getToken = (): string => {\r\n    return cookies.load('Authorization')\r\n}\r\n\r\nexport const setToken = (token: string) => {\r\n    cookies.save('Authorization', token, {\r\n        maxAge: 60 * 60 * 24 * 7\r\n    })\r\n}\r\n\r\nexport const removeToken = () => {\r\n    cookies.remove('Authorization')\r\n}\r\n\r\nexport const getHeaders = () => {\r\n    const token: string = getToken()\r\n    return {\r\n        'Authorization': token\r\n    }\r\n}\r\n\r\nexport interface AuthorConfig {\r\n    id: number, // 作者ID\r\n    avatar: string, // 作者的头像\r\n    realname: string, // 作者的真实姓名\r\n}\r\n\r\nexport interface IndentifyConfig {\r\n    id: number\r\n    value: string\r\n}\r\n\r\n// http请求是否正确\r\nexport const httpIsSuccess = (code: number) => {\r\n    return code === 0;\r\n}\r\n\r\nexport const isNull = (value: any) => {\r\n    return value === null;\r\n}\r\n\r\n// 为小于10提高格式化\r\nconst formatLessTen = (value: number) => {\r\n    return value < 10 ? '0' + value : value\r\n}\r\n\r\n// 转换时间\r\nexport const formatTime = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDay();\r\n    const hour = date.getHours();\r\n    const minute = date.getMinutes();\r\n    const seconds = date.getSeconds();\r\n    return `${year}-${formatLessTen(month)}-${formatLessTen(day)} ` +\r\n        `${formatLessTen(hour)}:${formatLessTen(minute)}:${formatLessTen(seconds)}`\r\n}","import { createFromIconfontCN } from '@ant-design/icons';\r\n\r\nexport const backIP = 'api'\r\n\r\nexport const testIP = 'https://mock.yonyoucloud.com/mock/16533/api'\r\n\r\nexport const IconFont = createFromIconfontCN({\r\n    scriptUrl: 'http://at.alicdn.com/t/font_2274798_xauss8md3ad.js',\r\n});","import axios from \"axios\";\r\n\r\n// 创建axios默认请求\r\n// axios.defaults.baseURL = \"http://106.14.174.206/api\"; // 后端代码\r\n// 配置超时时间\r\naxios.defaults.timeout = 100000;\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport interface BaseHttpResponse {\r\n  code: number;\r\n  data: any;\r\n  message: string;\r\n}\r\n\r\n// 请求的方式\r\ntype IMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'\r\n\r\nclass Http {\r\n  static request(\r\n    url: string,\r\n    data: object,\r\n    method: IMethod,\r\n    headers?: object\r\n  ): Promise<BaseHttpResponse> {\r\n    if (method === 'GET') {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .get(url, { params: data, headers: headers })\r\n          .then(res => {\r\n            resolve(res.data);\r\n          })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        axios({\r\n          method: method,\r\n          data: data,\r\n          headers: headers,\r\n          url: url\r\n        }).then(res => {\r\n          resolve(res.data);\r\n        })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Http","import { backIP, testIP } from 'components/common/config'\r\nimport { getHeaders } from 'components/common/utils'\r\nimport Http from './Servies'\r\n\r\ninterface ILoginPassword {\r\n    phoneNumber: string;\r\n    password: string;\r\n    verification_code: string;\r\n    platform: number;\r\n}\r\n\r\ninterface IGetBasicUserInfo {\r\n    userID?: number;\r\n}\r\n\r\ninterface IAlterUserIdentify {\r\n    userID: number;\r\n    identifyID: number;\r\n}\r\n\r\ninterface IResetUserPassword {\r\n    userID: number;\r\n    password: string;\r\n}\r\n\r\ninterface IGetDetailUserInfo {\r\n    userID: number;\r\n}\r\n\r\nexport interface IAlterUserInfo {\r\n    name: string;\r\n    phoneNumber: string;\r\n    weixin_number: string;\r\n    lawyer_number: string;\r\n}\r\n\r\ninterface IAddUser {\r\n    identify: string;\r\n    lawyerNumber: string;\r\n    identifyNumber: string;\r\n    name: string;\r\n    avatar: string;\r\n    qualificationsNumber: string;\r\n    phone: string;\r\n    startTime: string;\r\n}\r\n\r\ninterface ISearchUser {\r\n    value: string;\r\n}\r\n\r\n// 获取图片验证码\r\nexport const get_verify_code_api = async () => {\r\n    return await Http.request(`${backIP}/public/verificationCode/image`, {}, 'GET')\r\n}\r\n\r\n// 管理员手机号密码登录\r\nexport const login_password_api = async (data: ILoginPassword) => {\r\n    return await Http.request(`${backIP}/login/password`, data, 'POST')\r\n}\r\n\r\n// 获取管理员基本信息\r\nexport const get_basic_user_info_api = async (data: IGetBasicUserInfo) => {\r\n    return await Http.request(`${backIP}/user/getBasicInfo`, data, 'GET', getHeaders())\r\n}\r\n\r\n// 获取用户列表\r\nexport const get_user_list_api = async () => {\r\n    return await Http.request(`${testIP}/admin/userList`, {}, 'GET', getHeaders())\r\n}\r\n\r\n// 修改用户身份\r\nexport const alter_user_identify_api = async (data: IAlterUserIdentify) => {\r\n    return await Http.request(`${testIP}/admin/user/identify`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 重置用户密码\r\nexport const reset_user_password_api = async (data: IResetUserPassword) => {\r\n    return await Http.request(`${testIP}/admin/user/password`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 获取用户详细信息\r\nexport const get_user_detail_info_api = async (data: IGetDetailUserInfo) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'GET', getHeaders())\r\n}\r\n\r\n// 修改用户信息\r\nexport const alter_user_info_api = async (data: IAlterUserInfo) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 上传文件\r\nexport const upload_file_api = async (data: FormData) => {\r\n    return await Http.request(`${backIP}/public/upload`, data, 'POST', getHeaders())\r\n}\r\n\r\n// 生成新账号\r\nexport const add_new_user_api = async (data: IAddUser) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'POST', getHeaders())\r\n}\r\n\r\n// 查找数据库用户\r\nexport const search_user_list_api = async (data: ISearchUser) => {\r\n    return await Http.request(`${testIP}/admin/user/tip`, data, 'GET', getHeaders())\r\n}","import { connect } from 'react-redux'\r\nimport { transform_user } from 'redux/actions'\r\nimport Header from 'components/home/Header'\r\nexport default connect(\r\n    state => ({\r\n        user: state\r\n    }),\r\n    {transform_user}\r\n)(Header)","// 包含所有的 action creator\r\nimport {\r\n    USER_DATA,\r\n    REMOVE_USER_DATA\r\n} from './action-types';\r\nimport { UserBasicConfig } from 'components/home/Header';\r\n\r\n// TODO: 需修改\r\n// 从register里传递已登录的用户数据到其余各个组件\r\nexport const transform_user = (user: UserBasicConfig)=>({\r\n    type: USER_DATA,\r\n    data: user\r\n}) \r\n\r\n// 退出登录，删去redux的数据\r\nexport const remove_user = (user: UserBasicConfig)=>({\r\n    type: REMOVE_USER_DATA,\r\n    data: user\r\n}) \r\n\r\n// 异步action\r\n// 如果想返回一个函数，必须应用上异步中间件\r\n// export const incrementAsync = (number) => {\r\n//     return dispatch => {\r\n//         // 异步代码\r\n//         setTimeout(() => {\r\n//             // 一秒之后才去分发一个增加的action\r\n//             dispatch(increment(number))\r\n//         }, 1000)\r\n//     }\r\n// }","import React, { useCallback, useEffect, useState } from 'react'\r\nimport 'styles/home/header.scss'\r\nimport store from 'redux/store'\r\nimport { getToken, removeToken, successToast, errorToast, httpIsSuccess } from 'components/common/utils'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { get_basic_user_info_api } from 'http/UserApi'\r\nimport { IconFont } from 'components/common/config'\r\nimport { Image } from 'antd'\r\n\r\nconst stylePrefix = 'home-header'\r\n\r\nexport interface UserBasicConfig {\r\n    avatar: string; // 头像\r\n    name: string; // 真实姓名\r\n    lawyer_number: string;\r\n}\r\n\r\ninterface HeaderConfig {\r\n    transform_user: (user: UserBasicConfig) => {\r\n        type: string;\r\n        data: UserBasicConfig;\r\n    };\r\n    title?: string;\r\n}\r\n\r\nexport default function Header({ transform_user, title }: HeaderConfig) {\r\n    const history = useHistory()\r\n    const [avatar, setAvatar] = useState(store.getState().user?.avatar)\r\n    const [isMouse, setIsMouse] = useState(false)\r\n    const handleError = (message: string) => {\r\n        // errorToast()\r\n    }\r\n    const getBasicUser = useCallback(async () => {\r\n        const token: string = getToken()\r\n        if (token && !store.getState().user) {\r\n            try {\r\n                const res = await get_basic_user_info_api({});\r\n                if (httpIsSuccess(res.code)) {\r\n                    const tempUserData: UserBasicConfig = res.data\r\n                    setAvatar(tempUserData.avatar)\r\n                    transform_user(tempUserData)\r\n                } else {\r\n                    errorToast(res.message)\r\n                    history.push('/login')\r\n                }\r\n            } catch (error) {\r\n                errorToast(error.message)\r\n            }\r\n        }\r\n\r\n        if (!store.getState().user) {\r\n            errorToast('请先登录')\r\n            history.push('/login')\r\n        }\r\n    }, [history, transform_user])\r\n    const exitLogin = () => {\r\n        removeToken()\r\n        successToast('退出登录成功')\r\n        history.push('/login')\r\n    }\r\n    const gotoHome = () => {\r\n        history.push('/home')\r\n    }\r\n\r\n    useEffect(() => {\r\n        store.subscribe(() => {\r\n            getBasicUser();\r\n        })\r\n        getBasicUser();\r\n    }, [getBasicUser])\r\n    return (\r\n        <div className={`${stylePrefix}-layout`}>\r\n            <p className={`${stylePrefix}-logo`} onClick={gotoHome}>律政云</p>\r\n            {\r\n                title && <p className={`${stylePrefix}-title`}>{title}</p>\r\n            }\r\n            <div\r\n                className={`${stylePrefix}-user-layout`}\r\n                onMouseOver={() => setIsMouse(true)}\r\n                onMouseOut={() => setIsMouse(false)}\r\n            >\r\n                <Image\r\n                    className={`${stylePrefix}-avatar`}\r\n                    src={avatar}\r\n                    fallback=\"data:image/png;base64,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\"\r\n                />\r\n                <IconFont\r\n                    type='icon-xiabiao'\r\n                    className={`${stylePrefix}-icon`}\r\n                    style={{\r\n                        color: isMouse ? '#000' : '#fff'\r\n                    }}\r\n                />\r\n                <div\r\n                    className={`${stylePrefix}-user-operation-layout`}\r\n                    style={{\r\n                        display: isMouse ? 'block' : 'none'\r\n                    }}\r\n                >\r\n                    <p\r\n                        className={`${stylePrefix}-user-operation-word`}\r\n                        onClick={exitLogin}\r\n                    >\r\n                        退出登录\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { testIP } from \"components/common/config\"\r\nimport { getHeaders } from \"components/common/utils\"\r\nimport Http from \"./Servies\"\r\n\r\ninterface IGetUserInfoInSalary {\r\n    userID: number;\r\n}\r\n\r\n// 收入页面获取用户信息\r\nexport const get_user_info_in_salary_api = async (data: IGetUserInfoInSalary) => {\r\n    return await Http.request(`${testIP}/admin/salary/user`, data, 'GET', getHeaders())\r\n}\r\n\r\n// 获取收入列表\r\nexport const get_salary_list_api = async (data: IGetUserInfoInSalary) => {\r\n    return await Http.request(`${testIP}/admin/salary/list`, data, 'GET', getHeaders())\r\n}","import Loading2 from 'components/common/Loading2';\r\nimport { errorToast, httpIsSuccess } from 'components/common/utils';\r\nimport { UserDetailConfig } from 'components/home/user/AlterUserInfoModal';\r\nimport { get_user_info_in_salary_api } from 'http/Salary';\r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport 'styles/salary/userBasicShow.scss'\r\n\r\nconst stylePrefix = 'salary-userBasicShow'\r\n\r\ninterface UserBasicShowConfig {\r\n    userID: number;\r\n}\r\n\r\ninterface UserDetailInfoConfig extends UserDetailConfig {\r\n    salaryNum?: string;\r\n    avatar?: string;\r\n}\r\n\r\nexport default function UserBasicShow({ userID }: UserBasicShowConfig) {\r\n    const [user, setUser] = useState<UserDetailInfoConfig>({})\r\n    const [loading, setLoading] = useState(false)\r\n    // 初始化用户信息\r\n    const init = useCallback( async () => {\r\n        setLoading(true)\r\n        const res = await get_user_info_in_salary_api({ userID })\r\n        if (httpIsSuccess(res.code)) {\r\n            setUser(res.data);\r\n        } else {\r\n            errorToast(res.message)\r\n        }\r\n        setLoading(false)\r\n    }, [userID])\r\n    useEffect(() => {\r\n        init()\r\n    }, [userID, init])\r\n    const buildOtherInfoItem = (key: string, value: string) => {\r\n        return <p>\r\n            <span className={`${stylePrefix}-title`} >{key}：</span>\r\n            <span className={`${stylePrefix}-value`}>{value}</span>\r\n        </p>\r\n    }\r\n    return (\r\n        <div className={`${stylePrefix}-layout`} >\r\n            {\r\n                !loading\r\n                    ? <div className={`${stylePrefix}-main`} >\r\n                        <div className={`${stylePrefix}-name-avatar-layout`} >\r\n                            <img src={user.avatar} className={`${stylePrefix}-avatar`} alt=\"\" />\r\n                            <p className={`${stylePrefix}-name`} >{user.name}</p>\r\n                        </div>\r\n                        <div className={`${stylePrefix}-other-info`} >\r\n                            {buildOtherInfoItem('收入总额', `${user.salaryNum || '0'}元`)}\r\n                            {buildOtherInfoItem('手机号', user.phoneNumber || '无')}\r\n                            {buildOtherInfoItem('微信号', user.weixin_number || '无')}\r\n                            {buildOtherInfoItem('律师证号', user.lawyer_number || '无')}\r\n                        </div>\r\n                    </div>\r\n                    : <Loading2 />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import { errorToast, httpIsSuccess } from 'components/common/utils'\r\nimport { get_salary_list_api } from 'http/Salary'\r\nimport React, { useCallback, useEffect, useState } from 'react'\r\nimport 'styles/salary/salaryList.scss'\r\nconst stylePrefix = 'salary-salaryList'\r\n\r\ninterface SalaryListConfig {\r\n    userID: number;\r\n}\r\n\r\ninterface CaseItem {\r\n    case_name: string, //案件名称\r\n    identity: string,//主办人还是协办人\r\n    generalSalary: number,//总律师费\r\n    salary: number, //该案件分得的律师费\r\n    ratio: number,//该用户占该案件的金额比例\r\n}\r\n\r\ninterface YearSalaryItem {\r\n    year: number,//年份\r\n    year_salary: number,//该年总收入\r\n    case_list: CaseItem[]\r\n}\r\n\r\nexport default function SalaryList({ userID }: SalaryListConfig) {\r\n    const [salaryList, setSalaryList] = useState<YearSalaryItem[]>([])\r\n    const getSalaryList = useCallback(async () => {\r\n        const res = await get_salary_list_api({ userID })\r\n        if (httpIsSuccess(res.code)) {\r\n            setSalaryList(res.data)\r\n        } else {\r\n            errorToast(res.message)\r\n        }\r\n    }, [userID])\r\n    useEffect(() => {\r\n        getSalaryList()\r\n    }, [userID, getSalaryList])\r\n    return (\r\n        <div className={`${stylePrefix}-layout`} >\r\n            {\r\n                salaryList.map((salary, index) => {\r\n                    return <div\r\n                        key={index}\r\n                        className={`${stylePrefix}-salary-item-layout`}\r\n                    >\r\n                        <p className={`${stylePrefix}-year`}>年份：{salary.year}</p>\r\n                        <p className={`${stylePrefix}-year`}>年度总收入：{salary.year_salary}</p>\r\n                        {\r\n                            salary.case_list.map((caseItem, key) => {\r\n                                return <div\r\n                                    key={key}\r\n                                    className={`${stylePrefix}-case-item`}\r\n                                >\r\n                                    <span>{caseItem.case_name}</span>\r\n                                    <span>{caseItem.identity}</span>\r\n                                    <span>{caseItem.salary}</span>\r\n                                    <span>{caseItem.ratio}</span>\r\n                                </div>\r\n                            })\r\n                        }\r\n                    </div>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import SalaryList from 'components/salary/SalaryList'\r\nimport UserBasicShow from 'components/salary/UserBasicShow'\r\nimport HeaderContainer from 'containers/HeaderContainer'\r\nimport React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\nimport store from 'redux/store'\r\nimport 'styles/pages/salary.scss'\r\nconst stylePrefix = 'page-salary'\r\n\r\ninterface salaryParams {\r\n    id: string;\r\n}\r\n\r\nexport default function Salary() {\r\n    const params = useParams<salaryParams>()\r\n    return (\r\n        <div className={`${stylePrefix}-layout`} >\r\n            <Provider store={store}>\r\n                <HeaderContainer />\r\n            </Provider>\r\n            <div className={`${stylePrefix}-main`} >\r\n                <UserBasicShow userID={parseInt(params.id)} />\r\n                <SalaryList userID={parseInt(params.id)}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}