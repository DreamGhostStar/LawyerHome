{"version":3,"sources":["components/common/utils.tsx","components/common/config.ts","http/UserApi.tsx","http/Servies.tsx","containers/HeaderContainer.tsx","redux/actions.ts","components/home/Header.tsx","http/Case.tsx","images/wordLogo.png","hooks/useThrottle.tsx","components/home/lawyer/CouterStep.tsx","components/home/lawyer/AssistInput.tsx","http/Common.tsx","components/home/lawyer/UploadAgency.tsx","pages/editCase.tsx"],"names":["successToast","msg","message","success","errorToast","error","getToken","cookies","load","setToken","token","save","maxAge","removeToken","remove","getHeaders","httpIsSuccess","code","formatTime","date","year","getFullYear","month","getMonth","day","getDay","hour","getHours","minute","getMinutes","seconds","getSeconds","backIP","testIP","IconFont","createFromIconfontCN","scriptUrl","get_verify_code_api","a","Http","request","login_password_api","data","get_basic_user_info_api","get_user_list_api","alter_user_identify_api","reset_user_password_api","get_user_detail_info_api","alter_user_info_api","upload_file_api","add_new_user_api","search_user_list_api","axios","defaults","timeout","interceptors","response","use","Promise","reject","url","method","headers","resolve","get","params","then","res","catch","err","connect","state","user","transform_user","type","USER_DATA","title","history","useHistory","useState","store","getState","avatar","setAvatar","isMouse","setIsMouse","getBasicUser","useCallback","tempUserData","push","useEffect","subscribe","className","onClick","onMouseOver","onMouseOut","console","log","src","alt","style","color","display","get_case_list_api","add_case_api","module","exports","UseThrottle","func","delay","timer","setTimeout","CouterStep","value","callback","size","min","max","onChange","inputValue","stylePrefix","AssistInput","assistIDList","setAssistIDList","assistValue","setAssistValue","assistOption","setaAssistOption","onSelect","index","item","id","isExist","forEach","assist","parseInt","username","scale","length","placeholder","map","Option","key","assistItem","handleCouterStep","UploadAgency","agencyWord","setAgencyWord","fileRef","useRef","loading","setLoading","handleChange","e","files","target","file","formData","FormData","append","name","filename","uploadTime","Date","lineHeight","width","height","WordLogo","fallback","image","Empty","PRESENTED_IMAGE_SIMPLE","ref","accept","current","click","Select","TextArea","Input","EditCase","useParams","isAdd","undefined","caseNumber","setCaseNumber","accuser","setAccuser","defendant","setDefendant","StaticCaseTrial","caseTrial","setCaseTrial","StaticCaseType","caseType","setCaseType","caseReason","setCaseReason","detail","setDetail","hostOption","setHostOption","hostValue","setHostValue","hostID","setHostID","hostScale","setHostScale","handleInput","buildInput","buildSelect","arr","defaultValue","optionItem","onSearch","handleSubmit","infoIsNull","agency","host","assiant","goBack","HeaderContainer","rows"],"mappings":"sHAAA,+SASaA,EAAe,SAACC,GACzBC,IAAQC,QAAQF,IAGPG,EAAa,SAACH,GACvBC,IAAQG,MAAMJ,IAGLK,EAAW,WACpB,OAAOC,IAAQC,KAAK,kBAGXC,EAAW,SAACC,GACrBH,IAAQI,KAAK,gBAAiBD,EAAO,CACjCE,OAAQ,UAIHC,EAAc,WACvBN,IAAQO,OAAO,kBAGNC,EAAa,WAEtB,MAAO,CACH,cAFkBT,MAkBbU,EAAgB,SAACC,GAC1B,OAAgB,IAATA,GAQEC,EAAa,SAACC,GACvB,IAAMC,EAAOD,EAAKE,cACZC,EAAQH,EAAKI,WAAa,EAC1BC,EAAML,EAAKM,SACXC,EAAOP,EAAKQ,WACZC,EAAST,EAAKU,aACdC,EAAUX,EAAKY,aACrB,MAAM,GAAN,OAAUX,EAAV,YAAkBE,EAAlB,YAA2BE,EAA3B,YAAkCE,EAAlC,YAA0CE,EAA1C,YAAoDE,K,iCClExD,mHAEaE,EAAS,MAETC,EAAS,8CAETC,EAAWC,YAAqB,CACzCC,UAAW,wD,idC6CFC,EAAmB,uCAAG,sBAAAC,EAAA,sEAClBC,IAAKC,QAAL,UAAgBR,IAAhB,kCAAwD,GAAI,OAD1C,mFAAH,qDAKnBS,EAAkB,uCAAG,WAAOC,GAAP,SAAAJ,EAAA,sEACjBC,IAAKC,QAAL,UAAgBR,IAAhB,mBAAyCU,EAAM,QAD9B,mFAAH,sDAKlBC,EAAuB,uCAAG,WAAOD,GAAP,SAAAJ,EAAA,sEACtBC,IAAKC,QAAL,UAAgBR,IAAhB,sBAA4CU,EAAM,MAAO3B,eADnC,mFAAH,sDAKvB6B,EAAiB,uCAAG,sBAAAN,EAAA,sEAChBC,IAAKC,QAAL,UAAgBP,IAAhB,mBAAyC,GAAI,MAAOlB,eADpC,mFAAH,qDAKjB8B,EAAuB,uCAAG,WAAOH,GAAP,SAAAJ,EAAA,sEACtBC,IAAKC,QAAL,UAAgBP,IAAhB,wBAA8CS,EAAM,MAAO3B,eADrC,mFAAH,sDAKvB+B,EAAuB,uCAAG,WAAOJ,GAAP,SAAAJ,EAAA,sEACtBC,IAAKC,QAAL,UAAgBP,IAAhB,wBAA8CS,EAAM,MAAO3B,eADrC,mFAAH,sDAKvBgC,EAAwB,uCAAG,WAAOL,GAAP,SAAAJ,EAAA,sEACvBC,IAAKC,QAAL,UAAgBP,IAAhB,eAAqCS,EAAM,MAAO3B,eAD3B,mFAAH,sDAKxBiC,EAAmB,uCAAG,WAAON,GAAP,SAAAJ,EAAA,sEAClBC,IAAKC,QAAL,UAAgBP,IAAhB,eAAqCS,EAAM,MAAO3B,eADhC,mFAAH,sDAKnBkC,EAAe,uCAAG,WAAOP,GAAP,SAAAJ,EAAA,sEACdC,IAAKC,QAAL,UAAgBR,IAAhB,kBAAwCU,EAAM,OAAQ3B,eADxC,mFAAH,sDAKfmC,EAAgB,uCAAG,WAAOR,GAAP,SAAAJ,EAAA,sEACfC,IAAKC,QAAL,UAAgBP,IAAhB,eAAqCS,EAAM,OAAQ3B,eADpC,mFAAH,sDAKhBoC,EAAoB,uCAAG,WAAOT,GAAP,SAAAJ,EAAA,sEACnBC,IAAKC,QAAL,UAAgBP,IAAhB,mBAAyCS,EAAM,MAAO3B,eADnC,mFAAH,uD,uECjGjCqC,IAAMC,SAASC,QAAU,IAEzBF,IAAMG,aAAaC,SAASC,KAC1B,SAAUD,GACR,OAAOA,KAET,SAAUnD,GACR,OAAOqD,QAAQC,OAAOtD,M,IAapBkC,E,qGACWqB,EAAalB,EAAcmB,EAAiBC,GACzD,OACS,IAAIJ,QADE,QAAXG,EACiB,SAACE,EAASJ,GAC3BP,IACGY,IAAIJ,EAAK,CAAEK,OAAQvB,EAAMoB,QAASA,IAClCI,MAAK,SAAAC,GACJJ,EAAQI,EAAIzB,SAEb0B,OAAM,SAAAC,GACLV,EAAOU,OAIM,SAACN,EAASJ,GAC3BP,IAAM,CACJS,OAAQA,EACRnB,KAAMA,EACNoB,QAASA,EACTF,IAAKA,IACJM,MAAK,SAAAC,GACNJ,EAAQI,EAAIzB,SAEX0B,OAAM,SAAAC,GACLV,EAAOU,Y,KAQJ9B,O,kLCtDA+B,iBACX,SAAAC,GAAK,MAAK,CACNC,KAAMD,KAEV,CAACE,eCEyB,SAACD,GAAD,MAA0B,CACpDE,KAAMC,IACNjC,KAAM8B,KDRKF,EEqBA,YAA0D,IAAD,EAAvCG,EAAuC,EAAvCA,eAAgBG,EAAuB,EAAvBA,MACvCC,EAAUC,cADoD,EAExCC,mBAAQ,UAACC,IAAMC,WAAWT,YAAlB,aAAC,EAAuBU,QAFQ,mBAE7DA,EAF6D,KAErDC,EAFqD,OAGtCJ,oBAAS,GAH6B,mBAG7DK,EAH6D,KAGpDC,EAHoD,KAI9DC,EAAeC,sBAAW,sBAAC,8BAAAjD,EAAA,0DACPhC,eACR0E,IAAMC,WAAWT,KAFF,gCAGP7B,YAAwB,IAHjB,OAGnBwB,EAHmB,OAIrBnD,YAAcmD,EAAIlD,OACZuE,EAAgCrB,EAAIzB,KAC1CyC,EAAUK,EAAaN,QACvBT,EAAee,KAEfpF,YAAW+D,EAAIjE,SACf2E,EAAQY,KAAK,WAVQ,OAcxBT,IAAMC,WAAWT,OAClBpE,YAAW,4BACXyE,EAAQY,KAAK,WAhBY,2CAkB9B,CAACZ,EAASJ,IAgBb,OANAiB,qBAAU,WACNV,IAAMW,WAAU,WACZL,OAEJA,MACD,CAACA,IAEA,yBAAKM,UAAS,UAvDF,cAuDE,YACV,uBAAGA,UAAS,UAxDJ,cAwDI,SAAyBC,QAZ5B,WACbhB,EAAQY,KAAK,WAWT,sBAEIb,GAAS,uBAAGgB,UAAS,UA1DjB,cA0DiB,WAA2BhB,GAEpD,yBACIgB,UAAS,UA7DL,cA6DK,gBACTE,YAAa,kBAAMT,GAAW,IAC9BU,WAAY,kBAAMV,GAAW,KAE7B,yBAAKQ,QAAS,kBAAMG,QAAQC,IAAIf,IAASgB,IAAKhB,EAAQiB,IAAI,SAASP,UAAS,UAjExE,cAiEwE,aAC5E,kBAAC,IAAD,CACIlB,KAAK,eACLkB,UAAS,UApET,cAoES,SACTQ,MAAO,CACHC,MAAOjB,EAAU,OAAS,UAGlC,yBACIQ,UAAS,UA1ET,cA0ES,0BACTQ,MAAO,CACHE,QAASlB,EAAU,QAAU,SAGjC,uBACIQ,UAAS,UAhFb,cAgFa,wBACTC,QA1CF,WACdhF,cACAb,YAAa,wCACb6E,EAAQY,KAAK,YAqCD,mC,+JChEPc,EAAiB,uCAAG,sBAAAjE,EAAA,sEAChBC,IAAKC,QAAL,UAAgBP,IAAhB,oBAA0C,GAAI,MAAOlB,eADrC,mFAAH,qDAKjByF,EAAY,uCAAG,WAAO9D,GAAP,SAAAJ,EAAA,sEACXC,IAAKC,QAAL,UAAgBP,IAAhB,eAAqCS,EAAM,OAAQ3B,eADxC,mFAAH,uD,qlBC5BzB0F,EAAOC,QAAU,IAA0B,sC,0QCE5B,SAASC,EACpBC,EACAC,GAEA,IAAIC,EAA+B,KACnC,OAAOvB,uBAAY,WACVuB,IACDA,EAAQC,YAAW,WACfD,EAAQ,OACTD,GACHD,EAAI,WAAJ,gBAEL,CAACE,I,oBCNO,SAASE,EAAT,GAA4D,IAAtCC,EAAqC,EAArCA,MAAOC,EAA8B,EAA9BA,SAIxC,OACI,kBAAC,IAAD,CAAaC,KAAK,QAAQC,IAAK,EAAGC,IAAK,IAAKJ,MAAOA,EAAOK,SAJ7C,SAACC,GACdL,EAASK,MCFjB,IAAMC,EAAc,qBAUL,SAASC,EAAT,GAA4E,IAArDC,EAAoD,EAApDA,aAAcC,EAAsC,EAAtCA,gBAAsC,EAChD5C,mBAAS,IADuC,mBAC/E6C,EAD+E,KAClEC,EADkE,OAE7C9C,mBAAyB,IAFoB,mBAE/E+C,EAF+E,KAEjEC,EAFiE,KAyDtF,OAFApB,EAnDc,uCAAG,WAAOM,GAAP,eAAA3E,EAAA,yDACR2E,EADQ,iEAEK9D,YAAqB,CAAE8D,UAF5B,OAEP9C,EAFO,OAGTnD,YAAcmD,EAAIlD,MAClB8G,EAAiB5D,EAAIzB,MAErBtC,YAAW+D,EAAIjE,SANN,2CAAH,sDAmDQ,IAAtByG,CAAkCiB,GAG9B,oCACI,wBAAIhC,UAAS,UAAK4B,EAAL,WAAb,sBACA,yBAAK5B,UAAS,UAAK4B,EAAL,kBACV,kBAAC,IAAD,CACIP,MAAOW,EACPhC,UAAS,UAAK4B,EAAL,iBACTQ,SAlDC,SAACtF,GACd,IADgC,IAAD,WACtBuF,GACL,IAAMC,EAAOJ,EAAaG,GAC1B,GAAIC,EAAKC,KAAOzF,EAAM,CAElB,IAAI0F,GAAU,EAiBd,OAhBAV,EAAaW,SAAQ,SAAAC,GACbA,EAAOH,KAAOI,SAASL,EAAKC,MAC5BC,GAAU,MAIdA,EACAhI,YAAW,iEAEXuH,EAAgB,GAAD,mBAAKD,GAAL,CAAmB,CAC9BS,GAAII,SAASL,EAAKC,IAClBK,SAAUN,EAAKjB,MACfwB,MAAO,MAEXZ,EAAe,KAEb,CAAN,YArBCI,EAAQ,EAAGA,EAAQH,EAAaY,OAAQT,IAAS,CAAC,IAAD,IAAjDA,GAAiD,oCAkD9CX,SAAU,SAACL,GAAD,OAAWY,EAAeZ,IACpC0B,YAAY,sBAEXb,EAAac,KAAI,SAACV,EAAMD,GAAP,OACd,kBAAC,IAAaY,OAAd,CAAqBC,IAAKb,EAAOhB,MAAOiB,EAAKC,IACxCD,EAAKjB,YAKtB,yBAAKrB,UAAS,UAAK4B,EAAL,sBAENE,EAAakB,KAAI,SAACN,EAAQL,GACtB,OAAO,yBACHa,IAAKb,EACLrC,UAAS,UAAK4B,EAAL,eAET,uBAAG5B,UAAS,UAAK4B,EAAL,WAA4Bc,EAAOE,UAC/C,yBAAK5C,UAAS,UAAK4B,EAAL,WACV,kBAACR,EAAD,CACIC,MAAOqB,EAAOG,MACdvB,SAAU,SAACK,GAAD,OA7CjB,SAACA,EAAoBe,GAC1C,IAAMnE,EAAMuD,EAAakB,KAAI,SAAAG,GACzB,OAAIT,EAAOH,KAAOY,EAAWZ,GAClB,2BACAY,GADP,IAEIN,MAAOlB,IAGJwB,KAGfpB,EAAgBxD,GAkCsC6E,CAAiBzB,EAAYe,MAH/D,gB,gDChGfrF,EAAe,uCAAG,WAAOP,GAAP,SAAAJ,EAAA,sEACdC,IAAKC,QAAL,UAAgBR,IAAhB,kBAAwCU,EAAM,OAAQ,CAC/D,cAAiBpC,cACjB,eAAgB,wBAHO,mFAAH,sD,kBCSb,SAAS2I,EAAT,GAA0E,IAAlDC,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,cACzCC,EAAUC,iBAAyB,MAD2C,EAEtDtE,oBAAS,GAF6C,mBAE7EuE,EAF6E,KAEpEC,EAFoE,KAM9EC,EAAY,uCAAG,WAAOC,GAAP,qBAAAnH,EAAA,2DACXoH,EAAQD,EAAEE,OAAOD,OADN,wBAGbH,GAAW,GACLK,EAAOF,EAAM,IACbG,EAAW,IAAIC,UACZC,OAAOH,EAAKI,KAAMJ,GANd,SAOK3G,EAAgB4G,GAPrB,OAOP1F,EAPO,OAQTnD,YAAcmD,EAAIlD,MAClBkI,EAAc,CACVvF,IAAKO,EAAIzB,KACTuH,SAAUL,EAAKI,KACfE,WAAYhJ,YAAW,IAAIiJ,QAG/B/J,YAAW+D,EAAIjE,SAEnBqJ,GAAW,GAjBE,4CAAH,sDAoBlB,OACI,yBAAK3D,UAAS,UAlCF,gBAkCE,kBACV,2BACI,0BACIA,UAAS,UArCT,gBAqCS,UACTQ,MAAO,CACHgE,WAAY,UAHpB,sBAMA,0BAAMxE,UAAS,UA1CX,gBA0CW,YAAf,WAEJ,yBAAKA,UAAS,UA5CN,gBA4CM,iBAENsD,EACM,yBAAKtD,UAAS,UA/CpB,gBA+CoB,sBACZ,kBAAC,IAAD,CACIyE,MAAO,IACPC,OAAQ,IACRpE,IAAKqE,IACLC,SAAS,mqGAEb,6BACI,uBAAG5E,UAAS,UAvDxB,gBAuDwB,sBACR,0BAAMA,UAAS,UAxD/B,gBAwD+B,uBAAf,4BACA,8BAAOsD,EAAWe,WAEtB,uBAAGrE,UAAS,UA3DxB,gBA2DwB,sBACR,0BAAMA,UAAS,UA5D/B,gBA4D+B,uBAAf,kCACA,8BAAOsD,EAAWgB,eAI5B,kBAAC,IAAD,CAAOO,MAAOC,IAAMC,yBAE9B,2BACIjG,KAAK,OACLkG,IAAKxB,EACLyB,OAAO,aACPvD,SAAUkC,EACV5D,UAAS,UAxET,gBAwES,wBAEb,kBAAC,IAAD,CACIA,UAAS,UA3ET,gBA2ES,uBACTC,QAlEK,WAAO,IAAD,EACvB,UAAAuD,EAAQ0B,eAAR,SAAiBC,UAkEPzB,EAAU,qBAAQ,kB,ICpE5BT,EAAWmC,IAAXnC,OACAoC,EAAaC,IAAbD,SAoBO,SAASE,IACpB,IA6CIvG,EACA+D,EACA/B,EA/CE3C,EAASmH,cACTvG,EAAUC,cACVuG,OAAsBC,IAAdrH,EAAOkE,GAHU,EAIKpD,mBAAS,IAJd,mBAIxBwG,EAJwB,KAIZC,EAJY,OAKDzG,mBAAS,IALR,mBAKxB0G,EALwB,KAKfC,EALe,OAMG3G,mBAAS,IANZ,mBAMxB4G,EANwB,KAMbC,EANa,OAOG7G,mBAAS8G,EAAgB,GAAG1D,IAP/B,mBAOxB2D,EAPwB,KAObC,EAPa,OAQChH,mBAASiH,EAAe,GAAG7D,IAR5B,mBAQxB8D,EARwB,KAQdC,EARc,OASKnH,mBAAS,IATd,mBASxBoH,EATwB,KASZC,EATY,QAUHrH,mBAAS,IAVN,qBAUxBsH,GAVwB,MAUhBC,GAVgB,SAWKvH,mBAAyB,IAX9B,qBAWxBwH,GAXwB,MAWZC,GAXY,SAYGzH,mBAAS,IAZZ,qBAYxB0H,GAZwB,MAYbC,GAZa,SAaH3H,mBAAwB,MAbrB,qBAaxB4H,GAbwB,MAahBC,GAbgB,SAcG7H,mBAAS,GAdZ,qBAcxB8H,GAdwB,MAcbC,GAda,SAeS/H,mBAA0B,IAfnC,qBAexB2C,GAfwB,MAeVC,GAfU,SAgBK5C,mBAAkC,MAhBvC,qBAgBxBmE,GAhBwB,MAgBZC,GAhBY,MAkBzB4D,GAAc,SAChBnG,EACAK,GAEAL,EAAKK,IAIH+F,GAAa,SACfpI,EACA+D,EACA/B,GAEA,OAAO,yBAAKhB,UAAS,UAlDT,gBAkDS,kBACjB,2BACI,0BAAMA,UAAS,UApDX,gBAoDW,WAA4BhB,GAC3C,0BAAMgB,UAAS,UArDX,gBAqDW,YAAf,WAEJ,kBAAC,IAAD,CACI0B,SAAU,SAACmC,GAAD,OAAOsD,GAAYnG,EAAM6C,EAAEE,OAAO1C,QAC5CrB,UAAS,UAzDL,gBAyDK,UACT+C,YAAaA,MA0BnBsE,GAAc,SAChBrI,EACAgC,EACAsG,EACAjG,GAEA,OAAO,yBAAKrB,UAAS,UA1FT,gBA0FS,kBACjB,2BACI,0BAAMA,UAAS,UA5FX,gBA4FW,WAA4BhB,GAC3C,0BAAMgB,UAAS,UA7FX,gBA6FW,YAAf,WAEJ,kBAAC,IAAD,CACIuH,aAAclG,EACdrB,UAAS,UAjGL,gBAiGK,WACT0B,SAAU,SAACL,GAAD,OAAWL,EAAKK,KAGtBiG,EAAItE,KAAI,SAACwE,EAAYnF,GACjB,OAAO,kBAACY,EAAD,CAAQC,IAAKb,EAAOhB,MAAOmG,EAAWjF,IAAKiF,EAAWnG,aAM3EoG,GAAQ,uCAAG,0CAAA/K,EAAA,yDACP2E,EADO,yFAGK9D,YAAqB,CAAE8D,UAH5B,OAGP9C,EAHO,OAITnD,YAAcmD,EAAIlD,MAClBuL,GAAcrI,EAAIzB,MAElBtC,YAAW+D,EAAIjE,SAPN,2CAAH,qDAoBRoN,GAAY,uCAAG,8BAAAhL,EAAA,yDACbiL,GAAa,EACjB,CACIhC,EACAY,EACAL,EACAG,EACAR,EACAE,EACAgB,GACAE,GACA3D,IACFN,KAAI,SAAAV,GACFqF,IAAaA,IAA8B,OAATrF,GAA0B,KAATA,OAEnDqF,EAfa,uBAgBbnN,YAAW,kFAhBE,0CAmBCoG,YAAa,CAC3B+E,aACAY,aACAL,YACAG,WACAR,UACAE,YACAU,UACAmB,OAAStE,GAAgCtF,IACzC6J,KAAM,CACFtF,GAAKwE,GACLlE,MAAOoE,IAEXa,QAAShG,GAAakB,KAAI,SAAAN,GACtB,MAAO,CACHH,GAAIG,EAAOH,GACXM,MAAOH,EAAOG,YAnCT,OAmBXtE,EAnBW,OAuCbnD,YAAcmD,EAAIlD,OAClBjB,YAAa,wCACb6E,EAAQ8I,UAERvN,YAAW+D,EAAIjE,SA3CF,2CAAH,qDA+ClB,OADAyG,EAAY0G,GAAU,IAAtB1G,CAAkC8F,IAE9B,yBAAK7G,UAAS,UAhLF,gBAgLE,YACV,kBAAC,IAAD,CAAUZ,MAAOA,KACb,kBAAC4I,EAAA,EAAD,CAAiBhJ,MAAOyG,EAAQ,2BAAS,8BAE7C,yBAAKzF,UAAS,UApLN,gBAoLM,UACToH,GAAW,qBAAO,qBAAOxB,GACzBwB,GAAW,eAAM,eAAMtB,GACvBsB,GAAW,eAAM,eAAMpB,GACvBqB,GAAY,eAAMf,EAAaF,EAAgBC,GAC/CgB,GAAY,eAAMlB,EAAcF,EAAiBC,GACjDkB,GAAW,eAAM,eAAMZ,IAzHhCxH,EA0HuB,eAzHvB+D,EAyH6B,eAxH7B/B,EAwHmC0F,GAtH5B,yBAAK1G,UAAS,UArET,gBAqES,kBACjB,2BACI,0BAAMA,UAAS,UAvEX,gBAuEW,WAA4BhB,GAC3C,0BAAMgB,UAAS,UAxEX,gBAwEW,YAAf,WAEJ,kBAACqF,EAAD,CACIrF,UAAS,UA3EL,gBA2EK,UACTiI,KAAM,EACNlF,YAAaA,EACbrB,SAAU,SAACmC,GAAD,OAAOsD,GAAYnG,EAAM6C,EAAEE,OAAO1C,YA8G5C,yBAAKrB,UAAS,UA5LV,gBA4LU,kBACV,2BACI,0BAAMA,UAAS,UA9LnB,gBA8LmB,WAAf,sBACA,0BAAMA,UAAS,UA/LnB,gBA+LmB,YAAf,WAEJ,kBAAC,IAAD,CACIqB,MAAOwF,GACP7G,UAAS,UAnMb,gBAmMa,iBACToC,SA9EH,SAACtF,GACd,IAAK,IAAIuF,EAAQ,EAAGA,EAAQsE,GAAW7D,OAAQT,IAAS,CACpD,IAAMC,EAAOqE,GAAWtE,GACxB,GAAIC,EAAKC,KAAOzF,EAGZ,OAFAgK,GAAaxE,EAAKjB,YAClB2F,GAAUrE,SAAS7F,MA0EX4E,SAAU,SAACL,GAAD,OAAWyF,GAAazF,IAClC0B,YAAY,sBAEX4D,GAAW3D,KAAI,SAACV,EAAMD,GAAP,OACZ,kBAAC,IAAaY,OAAd,CAAqBC,IAAKb,EAAOhB,MAAOiB,EAAKC,IACxCD,EAAKjB,YAKtB,yBAAKrB,UAAS,UA/MV,gBA+MU,kBACV,2BACI,0BAAMA,UAAS,UAjNnB,gBAiNmB,WAAf,kCACA,0BAAMA,UAAS,UAlNnB,gBAkNmB,YAAf,WAEJ,yBAAKA,UAAS,UApNd,gBAoNc,iBACV,kBAACoB,EAAD,CACIC,MAAO4F,GACP3F,SAAU,SAACK,GAAD,OAAgBuF,GAAavF,MAH/C,WAQJ,kBAAC0B,EAAD,CACIC,WAAYA,GACZC,cAAeA,MAGvB,yBAAKvD,UAAS,UAjON,gBAiOM,UACV,kBAAC6B,EAAD,CACIC,aAAcA,GACdC,gBAAiBA,MAGzB,yBAAK/B,UAAS,UAvON,gBAuOM,mBACV,kBAAC,IAAD,CACIlB,KAAK,UACLmB,QAASyH,IAFb","file":"static/js/9.e7098e53.chunk.js","sourcesContent":["import { message } from 'antd';\r\nimport cookies from 'react-cookies'\r\n\r\nexport interface httpConfig {\r\n    code: number\r\n    data: any\r\n    message: string\r\n}\r\n\r\nexport const successToast = (msg: string) => {\r\n    message.success(msg);\r\n}\r\n\r\nexport const errorToast = (msg: string) => {\r\n    message.error(msg);\r\n}\r\n\r\nexport const getToken = (): string => {\r\n    return cookies.load('Authorization')\r\n}\r\n\r\nexport const setToken = (token: string) => {\r\n    cookies.save('Authorization', token, {\r\n        maxAge: 60 * 60 * 24 * 7\r\n    })\r\n}\r\n\r\nexport const removeToken = () => {\r\n    cookies.remove('Authorization')\r\n}\r\n\r\nexport const getHeaders = () => {\r\n    const token: string = getToken()\r\n    return {\r\n        'Authorization': token\r\n    }\r\n}\r\n\r\nexport interface AuthorConfig {\r\n    id: number, // 作者ID\r\n    avatar: string, // 作者的头像\r\n    realname: string, // 作者的真实姓名\r\n}\r\n\r\nexport interface IndentifyConfig {\r\n    id: number\r\n    value: string\r\n}\r\n\r\n// http请求是否正确\r\nexport const httpIsSuccess = (code: number) => {\r\n    return code === 0;\r\n}\r\n\r\nexport const isNull = (value: any) => {\r\n    return value === null;\r\n}\r\n\r\n// 转换时间\r\nexport const formatTime = (date: Date) => {\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth() + 1;\r\n    const day = date.getDay();\r\n    const hour = date.getHours();\r\n    const minute = date.getMinutes();\r\n    const seconds = date.getSeconds();\r\n    return `${year}-${month}-${day} ${hour}:${minute}:${seconds}`\r\n}","import { createFromIconfontCN } from '@ant-design/icons';\r\n\r\nexport const backIP = 'api'\r\n\r\nexport const testIP = 'https://mock.yonyoucloud.com/mock/16533/api'\r\n\r\nexport const IconFont = createFromIconfontCN({\r\n    scriptUrl: 'http://at.alicdn.com/t/font_2274798_m840qtc2j2e.js',\r\n});","import { backIP, testIP } from 'components/common/config'\r\nimport { getHeaders } from 'components/common/utils'\r\nimport Http from './Servies'\r\n\r\ninterface ILoginPassword {\r\n    phoneNumber: string;\r\n    password: string;\r\n    verification_code: string;\r\n    platform: number;\r\n}\r\n\r\ninterface IGetBasicUserInfo {\r\n    userID?: number;\r\n}\r\n\r\ninterface IAlterUserIdentify {\r\n    userID: number;\r\n    identifyID: number;\r\n}\r\n\r\ninterface IResetUserPassword {\r\n    userID: number;\r\n    password: string;\r\n}\r\n\r\ninterface IGetDetailUserInfo {\r\n    userID: number;\r\n}\r\n\r\nexport interface IAlterUserInfo {\r\n    name: string;\r\n    phoneNumber: string;\r\n    weixin_number: string;\r\n    lawyer_number: string;\r\n}\r\n\r\ninterface IAddUser {\r\n    identify: string;\r\n    lawyerNumber: string;\r\n    identifyNumber: string;\r\n    name: string;\r\n    avatar: string;\r\n    qualificationsNumber: string;\r\n    phone: string;\r\n    startTime: string;\r\n}\r\n\r\ninterface ISearchUser {\r\n    value: string;\r\n}\r\n\r\n// 获取图片验证码\r\nexport const get_verify_code_api = async () => {\r\n    return await Http.request(`${backIP}/public/verificationCode/image`, {}, 'GET')\r\n}\r\n\r\n// 管理员手机号密码登录\r\nexport const login_password_api = async (data: ILoginPassword) => {\r\n    return await Http.request(`${backIP}/login/password`, data, 'POST')\r\n}\r\n\r\n// 获取管理员基本信息\r\nexport const get_basic_user_info_api = async (data: IGetBasicUserInfo) => {\r\n    return await Http.request(`${backIP}/user/getBasicInfo`, data, 'GET', getHeaders())\r\n}\r\n\r\n// 获取用户列表\r\nexport const get_user_list_api = async () => {\r\n    return await Http.request(`${testIP}/admin/userList`, {}, 'GET', getHeaders())\r\n}\r\n\r\n// 修改用户身份\r\nexport const alter_user_identify_api = async (data: IAlterUserIdentify) => {\r\n    return await Http.request(`${testIP}/admin/user/identify`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 重置用户密码\r\nexport const reset_user_password_api = async (data: IResetUserPassword) => {\r\n    return await Http.request(`${testIP}/admin/user/password`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 获取用户详细信息\r\nexport const get_user_detail_info_api = async (data: IGetDetailUserInfo) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'GET', getHeaders())\r\n}\r\n\r\n// 修改用户信息\r\nexport const alter_user_info_api = async (data: IAlterUserInfo) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'PUT', getHeaders())\r\n}\r\n\r\n// 上传文件\r\nexport const upload_file_api = async (data: FormData) => {\r\n    return await Http.request(`${backIP}/public/upload`, data, 'POST', getHeaders())\r\n}\r\n\r\n// 生成新账号\r\nexport const add_new_user_api = async (data: IAddUser) => {\r\n    return await Http.request(`${testIP}/admin/user`, data, 'POST', getHeaders())\r\n}\r\n\r\n// 查找数据库用户\r\nexport const search_user_list_api = async (data: ISearchUser) => {\r\n    return await Http.request(`${testIP}/admin/user/tip`, data, 'GET', getHeaders())\r\n}","import axios from \"axios\";\r\n\r\n// 创建axios默认请求\r\n// axios.defaults.baseURL = \"http://106.14.174.206/api\"; // 后端代码\r\n// 配置超时时间\r\naxios.defaults.timeout = 100000;\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(\r\n  function (response) {\r\n    return response;\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\ninterface BaseHttpResponse {\r\n  code: number;\r\n  data: any;\r\n  message: string;\r\n}\r\n\r\n// 请求的方式\r\ntype IMethod = 'GET' | 'POST' | 'PUT' | 'DELETE'\r\n\r\nclass Http {\r\n  static request(url: string, data: object, method: IMethod, headers?: object): Promise<BaseHttpResponse> {\r\n    if (method === 'GET') {\r\n      return new Promise((resolve, reject) => {\r\n        axios\r\n          .get(url, { params: data, headers: headers })\r\n          .then(res => {\r\n            resolve(res.data);\r\n          })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n      });\r\n    } else {\r\n      return new Promise((resolve, reject) => {\r\n        axios({\r\n          method: method,\r\n          data: data,\r\n          headers: headers,\r\n          url: url\r\n        }).then(res => {\r\n          resolve(res.data);\r\n        })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default Http","import { connect } from 'react-redux'\r\nimport { transform_user } from 'redux/actions'\r\nimport Header from 'components/home/Header'\r\nexport default connect(\r\n    state => ({\r\n        user: state\r\n    }),\r\n    {transform_user}\r\n)(Header)","// 包含所有的 action creator\r\nimport {\r\n    USER_DATA,\r\n    REMOVE_USER_DATA\r\n} from './action-types';\r\nimport { UserBasicConfig } from 'components/home/Header';\r\n\r\n// TODO: 需修改\r\n// 从register里传递已登录的用户数据到其余各个组件\r\nexport const transform_user = (user: UserBasicConfig)=>({\r\n    type: USER_DATA,\r\n    data: user\r\n}) \r\n\r\n// 退出登录，删去redux的数据\r\nexport const remove_user = (user: UserBasicConfig)=>({\r\n    type: REMOVE_USER_DATA,\r\n    data: user\r\n}) \r\n\r\n// 异步action\r\n// 如果想返回一个函数，必须应用上异步中间件\r\n// export const incrementAsync = (number) => {\r\n//     return dispatch => {\r\n//         // 异步代码\r\n//         setTimeout(() => {\r\n//             // 一秒之后才去分发一个增加的action\r\n//             dispatch(increment(number))\r\n//         }, 1000)\r\n//     }\r\n// }","import React, { useCallback, useEffect, useState } from 'react'\r\nimport 'styles/home/header.scss'\r\nimport store from 'redux/store'\r\nimport { getToken, removeToken, successToast, errorToast, httpIsSuccess } from 'components/common/utils'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { get_basic_user_info_api } from 'http/UserApi'\r\nimport { IconFont } from 'components/common/config'\r\n\r\nconst stylePrefix = 'home-header'\r\n\r\nexport interface UserBasicConfig {\r\n    avatar: string; // 头像\r\n    name: string; // 真实姓名\r\n    lawyer_number: string;\r\n}\r\n\r\ninterface HeaderConfig {\r\n    transform_user: (user: UserBasicConfig) => {\r\n        type: string;\r\n        data: UserBasicConfig;\r\n    };\r\n    title?: string;\r\n}\r\n\r\nexport default function Header({ transform_user, title }: HeaderConfig) {\r\n    const history = useHistory()\r\n    const [avatar, setAvatar] = useState(store.getState().user?.avatar)\r\n    const [isMouse, setIsMouse] = useState(false)\r\n    const getBasicUser = useCallback(async () => {\r\n        const token: string = getToken()\r\n        if (token && !store.getState().user) {\r\n            const res = await get_basic_user_info_api({});\r\n            if (httpIsSuccess(res.code)) {\r\n                const tempUserData: UserBasicConfig = res.data\r\n                setAvatar(tempUserData.avatar)\r\n                transform_user(tempUserData)\r\n            } else {\r\n                errorToast(res.message)\r\n                history.push('/login')\r\n            }\r\n        }\r\n\r\n        if (!store.getState().user) {\r\n            errorToast('请先登录')\r\n            history.push('/login')\r\n        }\r\n    }, [history, transform_user])\r\n    const exitLogin = () => {\r\n        removeToken()\r\n        successToast('退出登录成功')\r\n        history.push('/login')\r\n    }\r\n    const gotoHome = () => {\r\n        history.push('/home')\r\n    }\r\n\r\n    useEffect(() => {\r\n        store.subscribe(() => {\r\n            getBasicUser();\r\n        })\r\n        getBasicUser();\r\n    }, [getBasicUser])\r\n    return (\r\n        <div className={`${stylePrefix}-layout`}>\r\n            <p className={`${stylePrefix}-logo`} onClick={gotoHome}>律政云</p>\r\n            {\r\n                title && <p className={`${stylePrefix}-title`}>{title}</p>\r\n            }\r\n            <div\r\n                className={`${stylePrefix}-user-layout`}\r\n                onMouseOver={() => setIsMouse(true)}\r\n                onMouseOut={() => setIsMouse(false)}\r\n            >\r\n                <img onClick={() => console.log(avatar)} src={avatar} alt=\"avatar\" className={`${stylePrefix}-avatar`} />\r\n                <IconFont\r\n                    type='icon-xiabiao'\r\n                    className={`${stylePrefix}-icon`}\r\n                    style={{\r\n                        color: isMouse ? '#000' : '#fff'\r\n                    }}\r\n                />\r\n                <div\r\n                    className={`${stylePrefix}-user-operation-layout`}\r\n                    style={{\r\n                        display: isMouse ? 'block' : 'none'\r\n                    }}\r\n                >\r\n                    <p\r\n                        className={`${stylePrefix}-user-operation-word`}\r\n                        onClick={exitLogin}\r\n                    >\r\n                        退出登录\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { testIP } from \"components/common/config\"\r\nimport { getHeaders } from \"components/common/utils\"\r\nimport Http from \"./Servies\"\r\n\r\ninterface IScale {\r\n    id: number;\r\n    scale: number;\r\n}\r\n\r\ninterface IAddCase {\r\n    caseNumber: string;\r\n    accuser: string;\r\n    defendant: string;\r\n    caseTrial: string;\r\n    caseType: string;\r\n    caseReason: string;\r\n    agency: string;\r\n    detail: string;\r\n    host: IScale;\r\n    assiant: IScale[];\r\n}\r\n\r\n// 生成新账号\r\nexport const get_case_list_api = async () => {\r\n    return await Http.request(`${testIP}/admin/case/list`, {}, 'GET', getHeaders())\r\n}\r\n\r\n// 新建案件\r\nexport const add_case_api = async (data: IAddCase) => {\r\n    return await Http.request(`${testIP}/admin/case`, data, 'POST', getHeaders())\r\n}","module.exports = __webpack_public_path__ + \"static/media/wordLogo.8d83bcf6.png\";","import { useCallback } from \"react\"\r\n\r\nexport default function UseThrottle(\r\n    func: any,\r\n    delay: number\r\n) {\r\n    let timer: NodeJS.Timeout | null = null\r\n    return useCallback((...args) => {\r\n        if (!timer) {\r\n            timer = setTimeout(() => {\r\n                timer = null\r\n            }, delay)\r\n            func(...args)\r\n        }\r\n    }, [timer])\r\n}\r\n","import { InputNumber } from 'antd'\r\nimport React from 'react'\r\n\r\ninterface CouterStepConfig {\r\n    value: number;\r\n    callback: (value: number) => void;\r\n}\r\n\r\nexport default function CouterStep({ value, callback }: CouterStepConfig) {\r\n    const onChange = (inputValue: number | string | undefined) => {\r\n        callback(inputValue as number)\r\n    }\r\n    return (\r\n        <InputNumber size=\"small\" min={1} max={100} value={value} onChange={onChange} />\r\n    )\r\n}\r\n","import { AutoComplete } from 'antd'\r\nimport { errorToast, httpIsSuccess } from 'components/common/utils'\r\nimport UseThrottle from 'hooks/useThrottle'\r\nimport { search_user_list_api } from 'http/UserApi'\r\nimport { assiantConfig } from 'pages/editCase'\r\nimport React, { useState } from 'react'\r\nimport 'styles/lawyer/assistInput.scss'\r\nimport CouterStep from './CouterStep'\r\nconst stylePrefix = 'lawyer-assistInput'\r\ninterface OptionConfig {\r\n    id: string;\r\n    value: string;\r\n}\r\ninterface AssistInputConfig {\r\n    assistIDList: assiantConfig[];\r\n    setAssistIDList: React.Dispatch<React.SetStateAction<assiantConfig[]>>;\r\n}\r\n\r\nexport default function AssistInput({ assistIDList, setAssistIDList }: AssistInputConfig) {\r\n    const [assistValue, setAssistValue] = useState('')\r\n    const [assistOption, setaAssistOption] = useState<OptionConfig[]>([]) // 协办人选项\r\n    // 当输入的值发生改变，则向后端发起请求符合输入条件的用户列表\r\n    const onSearch = async (value: string) => {\r\n        if (!value) return\r\n        const res = await search_user_list_api({ value });\r\n        if (httpIsSuccess(res.code)) {\r\n            setaAssistOption(res.data)\r\n        } else {\r\n            errorToast(res.message)\r\n        }\r\n    };\r\n    // 选中列表项，添加协办人用户\r\n    const onSelect = (data: string) => {\r\n        for (let index = 0; index < assistOption.length; index++) {\r\n            const item = assistOption[index];\r\n            if (item.id === data) {\r\n                // 说明列表中肯定会有该用户ID，则不予添加并提示当前正在使用的用户\r\n                let isExist = false; // 是否存在\r\n                assistIDList.forEach(assist => {\r\n                    if (assist.id === parseInt(item.id)) {\r\n                        isExist = true\r\n                        return\r\n                    }\r\n                })\r\n                if (isExist) {\r\n                    errorToast('该用户已添加，请检查')\r\n                } else {\r\n                    setAssistIDList([...assistIDList, {\r\n                        id: parseInt(item.id),\r\n                        username: item.value,\r\n                        scale: 0\r\n                    }])\r\n                    setAssistValue('')\r\n                }\r\n                return\r\n            }\r\n        }\r\n    };\r\n    // 处理表中数值变化\r\n    const handleCouterStep = (inputValue: number, assist: assiantConfig) => {\r\n        const res = assistIDList.map(assistItem => {\r\n            if (assist.id === assistItem.id) {\r\n                return {\r\n                    ...assistItem,\r\n                    scale: inputValue\r\n                }\r\n            } else {\r\n                return assistItem\r\n            }\r\n        })\r\n        setAssistIDList(res)\r\n    }\r\n    // 节流模块\r\n    UseThrottle(onSearch, 0.5 * 1000)(assistValue)\r\n\r\n    return (\r\n        <>\r\n            <h3 className={`${stylePrefix}-title`}>协办人</h3>\r\n            <div className={`${stylePrefix}-input-layout`}>\r\n                <AutoComplete\r\n                    value={assistValue}\r\n                    className={`${stylePrefix}-autoComplete`}\r\n                    onSelect={onSelect}\r\n                    onChange={(value) => setAssistValue(value)}\r\n                    placeholder=\"协办人\"\r\n                >\r\n                    {assistOption.map((item, index) => (\r\n                        <AutoComplete.Option key={index} value={item.id}>\r\n                            {item.value}\r\n                        </AutoComplete.Option>\r\n                    ))}\r\n                </AutoComplete>\r\n            </div>\r\n            <div className={`${stylePrefix}-user-show-layout`} >\r\n                {\r\n                    assistIDList.map((assist, index) => {\r\n                        return <div\r\n                            key={index}\r\n                            className={`${stylePrefix}-user-show`}\r\n                        >\r\n                            <p className={`${stylePrefix}-value`} >{assist.username}</p>\r\n                            <div className={`${stylePrefix}-value`}>\r\n                                <CouterStep\r\n                                    value={assist.scale}\r\n                                    callback={(inputValue) => handleCouterStep(inputValue, assist)}\r\n                                />\r\n                                &nbsp; %\r\n                            </div>\r\n                        </div>\r\n                    })\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import { backIP } from \"components/common/config\"\r\nimport { getToken } from \"components/common/utils\"\r\nimport Http from \"./Servies\"\r\n\r\n// 新建案件\r\nexport const upload_file_api = async (data: FormData) => {\r\n    return await Http.request(`${backIP}/public/upload`, data, 'POST', {\r\n        'Authorization': getToken(),\r\n        'Content-Type': \"multipart/form-data\"\r\n    })\r\n}","import { Button, Empty, Image } from 'antd'\r\nimport { errorToast, formatTime, httpIsSuccess } from 'components/common/utils'\r\nimport { upload_file_api } from 'http/Common'\r\nimport React, { ChangeEvent, useRef, useState } from 'react'\r\nimport WordLogo from 'images/wordLogo.png'\r\nimport 'styles/pages/editCase.scss'\r\nimport { AgencyWordConfig } from 'pages/editCase'\r\nconst stylePrefix = 'page-editCase'\r\n\r\ninterface UploadAgencyConfig {\r\n    agencyWord: AgencyWordConfig | null;\r\n    setAgencyWord: React.Dispatch<React.SetStateAction<AgencyWordConfig | null>>;\r\n}\r\n\r\nexport default function UploadAgency({ agencyWord, setAgencyWord }: UploadAgencyConfig) {\r\n    const fileRef = useRef<HTMLInputElement>(null)\r\n    const [loading, setLoading] = useState(false)\r\n    const handleUpload = () => {\r\n        fileRef.current?.click()\r\n    }\r\n    const handleChange = async (e: ChangeEvent<HTMLInputElement>) => {\r\n        const files = e.target.files\r\n        if (files) {\r\n            setLoading(true)\r\n            const file = files[0];\r\n            const formData = new FormData()\r\n            formData.append(file.name, file)\r\n            const res = await upload_file_api(formData);\r\n            if (httpIsSuccess(res.code)) {\r\n                setAgencyWord({\r\n                    url: res.data,\r\n                    filename: file.name,\r\n                    uploadTime: formatTime(new Date())\r\n                })\r\n            } else {\r\n                errorToast(res.message)\r\n            }\r\n            setLoading(false)\r\n        }\r\n    }\r\n    return (\r\n        <div className={`${stylePrefix}-input-layout`}>\r\n            <p>\r\n                <span\r\n                    className={`${stylePrefix}-title`}\r\n                    style={{\r\n                        lineHeight: '130px'\r\n                    }}\r\n                >代理词</span>\r\n                <span className={`${stylePrefix}-symbol`} >：</span>\r\n            </p>\r\n            <div className={`${stylePrefix}-agency-word`}>\r\n                {\r\n                    agencyWord\r\n                        ? <div className={`${stylePrefix}-agency-word-main`}>\r\n                            <Image\r\n                                width={130}\r\n                                height={130}\r\n                                src={WordLogo}\r\n                                fallback=\"data:image/png;base64,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\"\r\n                            />\r\n                            <div>\r\n                                <p className={`${stylePrefix}-agency-word-info`}>\r\n                                    <span className={`${stylePrefix}-agency-word-title`}>文件名：</span>\r\n                                    <span>{agencyWord.filename}</span>\r\n                                </p>\r\n                                <p className={`${stylePrefix}-agency-word-info`}>\r\n                                    <span className={`${stylePrefix}-agency-word-title`}>上传时间：</span>\r\n                                    <span>{agencyWord.uploadTime}</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        : <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\r\n                }\r\n                <input\r\n                    type=\"file\"\r\n                    ref={fileRef}\r\n                    accept='.doc,.docx'\r\n                    onChange={handleChange}\r\n                    className={`${stylePrefix}-agency-word-input`}\r\n                />\r\n                <Button\r\n                    className={`${stylePrefix}-agency-word-button`}\r\n                    onClick={handleUpload}\r\n                >{loading ? '上传中' : '上传'}</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { AutoComplete, Button, Input, Select } from 'antd'\r\nimport HeaderContainer from 'containers/HeaderContainer'\r\nimport React, { useState } from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport store from 'redux/store'\r\nimport 'styles/pages/editCase.scss'\r\nimport StaticCaseTrial from 'static/caseTrial.json'\r\nimport StaticCaseType from 'static/caseType.json'\r\nimport { search_user_list_api } from 'http/UserApi'\r\nimport { errorToast, httpIsSuccess, successToast } from 'components/common/utils'\r\nimport AssistInput from 'components/home/lawyer/AssistInput'\r\nimport CouterStep from 'components/home/lawyer/CouterStep'\r\nimport { add_case_api } from 'http/Case'\r\nimport UseThrottle from 'hooks/useThrottle'\r\nimport UploadAgency from 'components/home/lawyer/UploadAgency'\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst stylePrefix = 'page-editCase'\r\ninterface IParams {\r\n    id: string\r\n}\r\ninterface OptionConfig {\r\n    id: string;\r\n    value: string;\r\n}\r\nexport interface assiantConfig {\r\n    id: number;\r\n    username: string;\r\n    scale: number;\r\n}\r\nexport interface AgencyWordConfig {\r\n    url: string;\r\n    filename: string;\r\n    uploadTime: string;\r\n}\r\n\r\nexport default function EditCase() {\r\n    const params = useParams<IParams>()\r\n    const history = useHistory()\r\n    const isAdd = params.id === undefined\r\n    const [caseNumber, setCaseNumber] = useState('') // 案件号\r\n    const [accuser, setAccuser] = useState('') // 原告\r\n    const [defendant, setDefendant] = useState('') // 被告\r\n    const [caseTrial, setCaseTrial] = useState(StaticCaseTrial[0].id) // 审级\r\n    const [caseType, setCaseType] = useState(StaticCaseType[0].id) // 类型\r\n    const [caseReason, setCaseReason] = useState('') // 案由\r\n    const [detail, setDetail] = useState('') // 详情\r\n    const [hostOption, setHostOption] = useState<OptionConfig[]>([]) // 主办人选项\r\n    const [hostValue, setHostValue] = useState('') // 主办人输入框值\r\n    const [hostID, setHostID] = useState<number | null>(null) // 主办人ID\r\n    const [hostScale, setHostScale] = useState(0) // 主办人比例\r\n    const [assistIDList, setAssistIDList] = useState<assiantConfig[]>([]) // 协办人选中的ID列表\r\n    const [agencyWord, setAgencyWord] = useState<AgencyWordConfig | null>(null) // 代理词word的http路径\r\n    // 负责更新值\r\n    const handleInput = (\r\n        func: React.Dispatch<React.SetStateAction<any>>,\r\n        value: string\r\n    ) => {\r\n        func(value)\r\n    }\r\n\r\n    // 构建输入框\r\n    const buildInput = (\r\n        title: string,\r\n        placeholder: string,\r\n        func: React.Dispatch<React.SetStateAction<any>>\r\n    ) => {\r\n        return <div className={`${stylePrefix}-input-layout`}>\r\n            <p>\r\n                <span className={`${stylePrefix}-title`} >{title}</span>\r\n                <span className={`${stylePrefix}-symbol`} >：</span>\r\n            </p>\r\n            <Input\r\n                onChange={(e) => handleInput(func, e.target.value)}\r\n                className={`${stylePrefix}-input`}\r\n                placeholder={placeholder}\r\n            />\r\n        </div>\r\n    }\r\n\r\n    // 构建多行文本框\r\n    const buildTextArea = (\r\n        title: string,\r\n        placeholder: string,\r\n        func: React.Dispatch<React.SetStateAction<any>>\r\n    ) => {\r\n        return <div className={`${stylePrefix}-input-layout`}>\r\n            <p>\r\n                <span className={`${stylePrefix}-title`} >{title}</span>\r\n                <span className={`${stylePrefix}-symbol`} >：</span>\r\n            </p>\r\n            <TextArea\r\n                className={`${stylePrefix}-input`}\r\n                rows={4}\r\n                placeholder={placeholder}\r\n                onChange={(e) => handleInput(func, e.target.value)}\r\n            />\r\n        </div>\r\n    }\r\n\r\n    // 构建选择框\r\n    const buildSelect = (\r\n        title: string,\r\n        func: React.Dispatch<React.SetStateAction<any>>,\r\n        arr: OptionConfig[],\r\n        value: string\r\n    ) => {\r\n        return <div className={`${stylePrefix}-input-layout`}>\r\n            <p>\r\n                <span className={`${stylePrefix}-title`} >{title}</span>\r\n                <span className={`${stylePrefix}-symbol`} >：</span>\r\n            </p>\r\n            <Select\r\n                defaultValue={value}\r\n                className={`${stylePrefix}-select`}\r\n                onChange={(value) => func(value)}\r\n            >\r\n                {\r\n                    arr.map((optionItem, index) => {\r\n                        return <Option key={index} value={optionItem.id}>{optionItem.value}</Option>\r\n                    })\r\n                }\r\n            </Select>\r\n        </div>\r\n    }\r\n    const onSearch = async (...args: string[]) => {\r\n        const value = args[0]\r\n        if (!value) return\r\n        const res = await search_user_list_api({ value });\r\n        if (httpIsSuccess(res.code)) {\r\n            setHostOption(res.data)\r\n        } else {\r\n            errorToast(res.message)\r\n        }\r\n    };\r\n    const onSelect = (data: string) => {\r\n        for (let index = 0; index < hostOption.length; index++) {\r\n            const item = hostOption[index];\r\n            if (item.id === data) {\r\n                setHostValue(item.value)\r\n                setHostID(parseInt(data))\r\n                return\r\n            }\r\n        }\r\n    };\r\n    const handleSubmit = async () => {\r\n        let infoIsNull = false;\r\n        [\r\n            caseNumber,\r\n            caseReason,\r\n            caseTrial,\r\n            caseType,\r\n            accuser,\r\n            defendant,\r\n            hostID,\r\n            hostScale,\r\n            agencyWord\r\n        ].map(item => {\r\n            infoIsNull = infoIsNull ? true : (item === null || item === '')\r\n        })\r\n        if (infoIsNull) {\r\n            errorToast('信息未填写完，请检查后重试')\r\n            return\r\n        }\r\n        const res = await add_case_api({\r\n            caseNumber,\r\n            caseReason,\r\n            caseTrial,\r\n            caseType,\r\n            accuser,\r\n            defendant,\r\n            detail,\r\n            agency: (agencyWord as AgencyWordConfig).url,\r\n            host: {\r\n                id: (hostID as number),\r\n                scale: hostScale\r\n            },\r\n            assiant: assistIDList.map(assist => {\r\n                return {\r\n                    id: assist.id,\r\n                    scale: assist.scale\r\n                }\r\n            })\r\n        })\r\n        if (httpIsSuccess(res.code)) {\r\n            successToast('新建案件成功')\r\n            history.goBack()\r\n        } else {\r\n            errorToast(res.message)\r\n        }\r\n    }\r\n    UseThrottle(onSearch, 0.5 * 1000)(hostValue)\r\n    return (\r\n        <div className={`${stylePrefix}-layout`}>\r\n            <Provider store={store} >\r\n                <HeaderContainer title={isAdd ? '新建案件' : '修改案件'} />\r\n            </Provider>\r\n            <div className={`${stylePrefix}-main`}>\r\n                {buildInput('案件号', '案件号', setCaseNumber)}\r\n                {buildInput('原告', '原告', setAccuser)}\r\n                {buildInput('被告', '被告', setDefendant)}\r\n                {buildSelect('类型', setCaseType, StaticCaseType, caseType)}\r\n                {buildSelect('审级', setCaseTrial, StaticCaseTrial, caseTrial)}\r\n                {buildInput('案由', '案由', setCaseReason)}\r\n                {buildTextArea('详情', '详情', setDetail)}\r\n                <div className={`${stylePrefix}-input-layout`}>\r\n                    <p>\r\n                        <span className={`${stylePrefix}-title`} >主办人</span>\r\n                        <span className={`${stylePrefix}-symbol`} >：</span>\r\n                    </p>\r\n                    <AutoComplete\r\n                        value={hostValue}\r\n                        className={`${stylePrefix}-autoComplete`}\r\n                        onSelect={onSelect}\r\n                        onChange={(value) => setHostValue(value)}\r\n                        placeholder=\"主办人\"\r\n                    >\r\n                        {hostOption.map((item, index) => (\r\n                            <AutoComplete.Option key={index} value={item.id}>\r\n                                {item.value}\r\n                            </AutoComplete.Option>\r\n                        ))}\r\n                    </AutoComplete>\r\n                </div>\r\n                <div className={`${stylePrefix}-input-layout`}>\r\n                    <p>\r\n                        <span className={`${stylePrefix}-title`} >主办人比例</span>\r\n                        <span className={`${stylePrefix}-symbol`} >：</span>\r\n                    </p>\r\n                    <div className={`${stylePrefix}-couter-step`}>\r\n                        <CouterStep\r\n                            value={hostScale}\r\n                            callback={(inputValue) => setHostScale(inputValue)}\r\n                        />\r\n                        &nbsp; %\r\n                    </div>\r\n                </div>\r\n                <UploadAgency\r\n                    agencyWord={agencyWord}\r\n                    setAgencyWord={setAgencyWord}\r\n                />\r\n            </div>\r\n            <div className={`${stylePrefix}-main`}>\r\n                <AssistInput\r\n                    assistIDList={assistIDList}\r\n                    setAssistIDList={setAssistIDList}\r\n                />\r\n            </div>\r\n            <div className={`${stylePrefix}-submit-layout`}>\r\n                <Button\r\n                    type='primary'\r\n                    onClick={handleSubmit}\r\n                >提交</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}